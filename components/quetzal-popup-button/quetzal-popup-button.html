<!--
A button that can be clicked to open a popup.
As a visual cue, the button's content will include a dropdown arrow on the
right. The button will also appear depressed while the popup is open.
-->

<link rel="import" href="../quetzal-popup-source/quetzal-popup-source.html">
<link rel="import" href="../quetzal-toggle-button/quetzal-toggle-button.html">

<polymer-element name="quetzal-popup-button" extends="quetzal-popup-source">

<template>

<style>
:host {
  display: inline-block;
}
</style>

<shadow>
  <property name="popup">
    <content select="property[name='popup']"></content>
  </property>
  <quetzal-toggle-button id="button" autoToggle="false">
    <content></content>
    <span>â–¼</span>
  </quetzal-toggle-button>
</shadow>

</template>

<script>
Polymer( "quetzal-popup-button", {

  ready: function() {
    this.super();
    this.$.popup.addEventListener( "polymer-overlay-open", function() {
      this.$.button.selected = this.$.popup.opened;
    }.bind( this ));
    this.$.popup.focusNodeClosed = this.$.button;
  }

});
</script>

</polymer-element>
