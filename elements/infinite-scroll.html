<polymer-element name="infinite-scroll">

<template>
  <style>
  :host {
    display: block;
    overflow-y: auto;
  }
  </style>
  <!-- <div>Hello</div> -->
</template>

<script>
Polymer( "infinite-scroll", {

  addElementToBottom: function() {
    var div = document.createElement( "div" );
    div.appendChild( new Text( ++this._counter ) );
    this.shadowRoot.appendChild( div );
  },

  addPageToBottom: function() {
    console.log( "adding" );
    for ( var i = 0; i < 25; i++ ) {
      this.addElementToBottom();
    }
  },

  ready: function() {
    this.addEventListener( "scroll", function() {
      this.scrolled();
    }.bind( this ));
    this.addPageToBottom();
  },

  scrolled: function() {
    var scrollBottom = this.scrollTop + this.clientHeight;
    var belowView = this.scrollHeight - scrollBottom;
    if ( belowView < this.clientHeight ) {
      this.addPageToBottom();
    }
  },

  _counter: 0

});
</script>

</polymer-element>
