<link rel="import" href="quetzal-element.html">

<polymer-element name="quetzal-month-name" extends="quetzal-element" attributes="culture month" constructor="QuetzalMonthName">

<template>
  <style>
  :host {
    display: inline-block;
  }
  </style>
  <span id="name"></span>
</template>

<script>
Polymer( "quetzal-month-name", {

  cultureChanged: function() {
    // Force update of month name.
    this.monthChanged();
  },

  // The index of the month to show: 0 = January, 1 = February, etc.
  monthChanged: function() {
    culture = this.culture;
    monthNameEnum = culture ? culture.calendar.months.names : QuetzalMonthName.names;
    monthName = monthNameEnum[ this.month ];
    this.$.name.textContent = monthName;
  },

  ready: function() {
    this.super();
    if ( !this.month ) {
      // If no month is supplied, default to the current month.
      this.month = ( new Date() ).getMonth();
    }
  }

});

// TODO: Remove this check once Polymer defines constructor in time.
if ( typeof QuetzalMonthName !== "undefined" ) {

  // Default names, used if Globalize is not avaialble.
  QuetzalMonthName.names =[
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ];

}

</script>

</polymer-element>
