<!--
A UI element that appears temporarily over other things.
Examples: popups, menus, dialogs, combo boxes, tooltips.
-->

<link rel="import" href="quetzal-element.html">
<link rel="import" href="../polymer-elements/polymer-overlay/polymer-overlay.html">

<polymer-element name="quetzal-popup" extends="quetzal-element" attributes="autoCloseDisabled opened">

<template>

<style>
  /* Generic appearance */
:host {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.2);
  box-shadow: 0 2px 4px rgba( 0, 0, 0, 0.2 );
  box-sizing: border-box;
  padding: .25em;
  -webkit-user-select: none;
  user-select: none;
}
</style>

<polymer-overlay id="overlay" autoCloseDisabled="{{autoCloseDisabled}}" opened="{{opened}}"></polymer-overlay>
<content></content>

</template>

<script>
Polymer( "quetzal-popup", {

  close: function() {
    this.opened = false;
  },

  created: function() {
    this.addEventListener( "polymer-overlay-open", function() {
      var eventName = this.opened ? "quetzal-popup-opened" : "quetzal-popup-closed";
      this.dispatchEvent( new CustomEvent( eventName ));
    });
    this.$.overlay.target = this;
  },

  enableCaptureHandler: Quetzal.alias( "$.overlay.enableCaptureHandler" ),

  open: function() {
    this.opened = true;
  },

  toggle: Quetzal.alias( "$.overlay.toggle" )

});
</script>

</polymer-element>