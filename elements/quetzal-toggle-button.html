<!--
A button with a selected state that can be toggled on and off.

TODO: Replace this with quetzal-toggle-button2 once that's unblocked.
-->

<link rel="import" href="quetzal-button2.html">

<polymer-element name="quetzal-toggle-button" extends="quetzal-element" attributes="autoToggle selected quiet tabindex">

<template>

<style>
:host {
  display: inline-block;
}

#button {
  height: 100%;
  width: 100%;
}

/* TODO: Generic styling */
#button.selected {
  box-shadow: inset 0 1px 2px rgba( 0, 0, 0, .1 ) !important;
  background-color: #eee !important;
  background-image: -webkit-linear-gradient( top, #e0e0e0, #d8d8d8 ) !important;
  background-image: linear-gradient( top, #e0e0e0, #d8d8d8 ) !important;
  border-color: #ccc !important;

#button.selected:hover {
  background-color: #f0f0f0 !important;
  background-image: -webkit-linear-gradient( top, #e8e8e8, #e0e0e0 ) !important;
  background-image: linear-gradient( top, #e8e8e8, #e0e0e0 ) !important;
}
</style>

<button is="quetzal-button2" id="button" part="x-button" tabindex="{{tabindex}}">
  <content></content>
</button>

</template>

<script>
Polymer( "quetzal-toggle-button", {

  autoToggle: true,

  /* TODO: Remove this and use style when this extends button */
  quiet: false,

  quietChanged: function() {
    this.$.button.classList.toggle( "quiet", this.quiet );
  },

  ready: function() {
    this.super();
    this.addEventListener( "tap", function() {
      // TODO: if not disabled...
      if ( this.autoToggle ) {
        this.toggle();
      }
    }.bind( this ) );
  },

  selected: false,

  selectedChanged: function() {
    this.$.button.classList.toggle( "selected", this.selected );
  },

  toggle: function() {
    this.selected = !this.selected;
  }

});
</script>

</polymer-element>
